<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
		<link rel="stylesheet" href="style.css" />
		<title>ChatterNet App</title>
	</head>
	<body>
		<div class="join-container">
			<header class="join-header">
				<h1><i class="fas fa-smile"></i> ChatterNet</h1>
			</header>
			<main class="join-main">
				<form action="chat.html" class="form-join">
					<div class="form-control">
						<label for="username">Username</label>
						<input type="text" name="username" id="username" placeholder="Enter username..." required />
					</div>
					<div class="form-control">
						<label for="room">Room</label>
						<select name="room" id="room" onchange="newCheck()" required>
							<option value="" disabled selected>Select your option</option>
							<option value="Chatter">Chatter</option>
							<option value="Fun">Fun</option>
							<option value="Discussion">Discussion</option>
							<option value="Debate">Debate</option>
							<option value="Study">Study</option>
							<option value="Outing">Outing</option>
							<option value="New">Create new room</option>
						</select>
						<script>
							function newCheck(){
								if(document.getElementById('room').value==="New"){
									form=document.createElement('div')
									form.className="form-control new-room"
									form.innerHTML=`<label for="newroom">Room Name</label>
											<input type="text" name="newroom" id="newroom" placeholder="Enter room name..." required />`
									main=document.querySelector('form')
									console.log(main.childNodes[main.childElementCount])
									main.insertBefore(form, main.childNodes[main.childElementCount+1])
								}

								else{
									if(document.getElementsByClassName('new-room').length>0){
										document.querySelector('.new-room').remove()
									}
								}
							}
						</script>
					</div>
					<button type="submit" class="btn">Join Chat</button>
				</form>
			</main>
		</div>
	</body>
</html>